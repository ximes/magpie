Date.CultureStrings=Date.CultureStrings||{},Date.CultureStrings["en-US"]={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Su:"Su",Mo:"Mo",Tu:"Tu",We:"We",Th:"Th",Fr:"Fr",Sa:"Sa",S_Sun_Initial:"S",M_Mon_Initial:"M",T_Tue_Initial:"T",W_Wed_Initial:"W",T_Thu_Initial:"T",F_Fri_Initial:"F",S_Sat_Initial:"S",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Jan_Abbr:"Jan",Feb_Abbr:"Feb",Mar_Abbr:"Mar",Apr_Abbr:"Apr",May_Abbr:"May",Jun_Abbr:"Jun",Jul_Abbr:"Jul",Aug_Abbr:"Aug",Sep_Abbr:"Sep",Oct_Abbr:"Oct",Nov_Abbr:"Nov",Dec_Abbr:"Dec",AM:"AM",PM:"PM",firstDayOfWeek:0,twoDigitYearMax:2049,mdy:"mdy","M/d/yyyy":"M/d/yyyy","dddd, MMMM dd, yyyy":"dddd, MMMM dd, yyyy","h:mm tt":"h:mm tt","h:mm:ss tt":"h:mm:ss tt","dddd, MMMM dd, yyyy h:mm:ss tt":"dddd, MMMM dd, yyyy h:mm:ss tt","yyyy-MM-ddTHH:mm:ss":"yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ssZ":"yyyy-MM-dd HH:mm:ssZ","ddd, dd MMM yyyy HH:mm:ss":"ddd, dd MMM yyyy HH:mm:ss","MMMM dd":"MMMM dd","MMMM, yyyy":"MMMM, yyyy","/jan(uary)?/":"jan(uary)?","/feb(ruary)?/":"feb(ruary)?","/mar(ch)?/":"mar(ch)?","/apr(il)?/":"apr(il)?","/may/":"may","/jun(e)?/":"jun(e)?","/jul(y)?/":"jul(y)?","/aug(ust)?/":"aug(ust)?","/sep(t(ember)?)?/":"sep(t(ember)?)?","/oct(ober)?/":"oct(ober)?","/nov(ember)?/":"nov(ember)?","/dec(ember)?/":"dec(ember)?","/^su(n(day)?)?/":"^su(n(day)?)?","/^mo(n(day)?)?/":"^mo(n(day)?)?","/^tu(e(s(day)?)?)?/":"^tu(e(s(day)?)?)?","/^we(d(nesday)?)?/":"^we(d(nesday)?)?","/^th(u(r(s(day)?)?)?)?/":"^th(u(r(s(day)?)?)?)?","/^fr(i(day)?)?/":"^fr(i(day)?)?","/^sa(t(urday)?)?/":"^sa(t(urday)?)?","/^next/":"^next","/^last|past|prev(ious)?/":"^last|past|prev(ious)?","/^(\\+|aft(er)?|from|hence)/":"^(\\+|aft(er)?|from|hence)","/^(\\-|bef(ore)?|ago)/":"^(\\-|bef(ore)?|ago)","/^yes(terday)?/":"^yes(terday)?","/^t(od(ay)?)?/":"^t(od(ay)?)?","/^tom(orrow)?/":"^tom(orrow)?","/^n(ow)?/":"^n(ow)?","/^ms|milli(second)?s?/":"^ms|milli(second)?s?","/^sec(ond)?s?/":"^sec(ond)?s?","/^mn|min(ute)?s?/":"^mn|min(ute)?s?","/^h(our)?s?/":"^h(our)?s?","/^w(eek)?s?/":"^w(eek)?s?","/^m(onth)?s?/":"^m(onth)?s?","/^d(ay)?s?/":"^d(ay)?s?","/^y(ear)?s?/":"^y(ear)?s?","/^(a|p)/":"^(a|p)","/^(a\\.?m?\\.?|p\\.?m?\\.?)/":"^(a\\.?m?\\.?|p\\.?m?\\.?)","/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/":"^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)","/^\\s*(st|nd|rd|th)/":"^\\s*(st|nd|rd|th)","/^\\s*(\\:|a(?!u|p)|p)/":"^\\s*(\\:|a(?!u|p)|p)",LINT:"LINT",TOT:"TOT",CHAST:"CHAST",NZST:"NZST",NFT:"NFT",SBT:"SBT",AEST:"AEST",ACST:"ACST",JST:"JST",CWST:"CWST",CT:"CT",ICT:"ICT",MMT:"MMT",BIOT:"BST",NPT:"NPT",IST:"IST",PKT:"PKT",AFT:"AFT",MSK:"MSK",IRST:"IRST",FET:"FET",EET:"EET",CET:"CET",UTC:"UTC",GMT:"GMT",CVT:"CVT",GST:"GST",BRT:"BRT",NST:"NST",AST:"AST",EST:"EST",CST:"CST",MST:"MST",PST:"PST",AKST:"AKST",MIT:"MIT",HST:"HST",SST:"SST",BIT:"BIT",CHADT:"CHADT",NZDT:"NZDT",AEDT:"AEDT",ACDT:"ACDT",AZST:"AZST",IRDT:"IRDT",EEST:"EEST",CEST:"CEST",BST:"BST",PMDT:"PMDT",ADT:"ADT",NDT:"NDT",EDT:"EDT",CDT:"CDT",MDT:"MDT",PDT:"PDT",AKDT:"AKDT",HADT:"HADT"},Date.CultureStrings.lang="en-US",function(){var e=Date,t=Date.CultureStrings?Date.CultureStrings.lang:null,n={},r=function(e,r){var a,s,i,o,u=r||t;if(Date.CultureStrings&&Date.CultureStrings[u]&&Date.CultureStrings[u][e])a=Date.CultureStrings[u][e];else switch(e){case"name":a="en-US";break;case"englishName":case"nativeName":a="English (United States)";break;case"twoDigitYearMax":a=2049;break;case"firstDayOfWeek":a=0;break;default:a=e,s=e.split("_"),i=s.length,i>1&&"/"!==e.charAt(0)&&("initial"!==(o=s[i-1].toLowerCase())&&"abbr"!==o||(a=s[0]))}return"/"===e.charAt(0)&&(a=Date.CultureStrings&&Date.CultureStrings[u]&&Date.CultureStrings[u][e]?new RegExp(Date.CultureStrings[u][e],"i"):new RegExp(e.replace(new RegExp("/","g"),""),"i")),n[e]=e,a},a=function(e){var t=Date.Config.i18n+e+".js",n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");r.src=t;var a={done:function(){}};return r.onload=r.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(done=!0,a.done(),n.removeChild(r))},setTimeout(function(){n.insertBefore(r,n.firstChild)},0),{done:function(e){a.done=function(){e&&e()}}}},s=function(){var e=function(e){var t;for(t in e.abbreviatedTimeZoneStandard)e.abbreviatedTimeZoneStandard.hasOwnProperty(t)&&e.timezones.push({name:t,offset:e.abbreviatedTimeZoneStandard[t]});for(t in e.abbreviatedTimeZoneDST)e.abbreviatedTimeZoneDST.hasOwnProperty(t)&&e.timezones.push({name:t,offset:e.abbreviatedTimeZoneDST[t],dst:!0});return e.timezones},t={name:r("name"),englishName:r("englishName"),nativeName:r("nativeName"),dayNames:[r("Sunday"),r("Monday"),r("Tuesday"),r("Wednesday"),r("Thursday"),r("Friday"),r("Saturday")],abbreviatedDayNames:[r("Sun"),r("Mon"),r("Tue"),r("Wed"),r("Thu"),r("Fri"),r("Sat")],shortestDayNames:[r("Su"),r("Mo"),r("Tu"),r("We"),r("Th"),r("Fr"),r("Sa")],firstLetterDayNames:[r("S_Sun_Initial"),r("M_Mon_Initial"),r("T_Tues_Initial"),r("W_Wed_Initial"),r("T_Thu_Initial"),r("F_Fri_Initial"),r("S_Sat_Initial")],monthNames:[r("January"),r("February"),r("March"),r("April"),r("May"),r("June"),r("July"),r("August"),r("September"),r("October"),r("November"),r("December")],abbreviatedMonthNames:[r("Jan_Abbr"),r("Feb_Abbr"),r("Mar_Abbr"),r("Apr_Abbr"),r("May_Abbr"),r("Jun_Abbr"),r("Jul_Abbr"),r("Aug_Abbr"),r("Sep_Abbr"),r("Oct_Abbr"),r("Nov_Abbr"),r("Dec_Abbr")],amDesignator:r("AM"),pmDesignator:r("PM"),firstDayOfWeek:r("firstDayOfWeek"),twoDigitYearMax:r("twoDigitYearMax"),dateElementOrder:r("mdy"),formatPatterns:{shortDate:r("M/d/yyyy"),longDate:r("dddd, MMMM dd, yyyy"),shortTime:r("h:mm tt"),longTime:r("h:mm:ss tt"),fullDateTime:r("dddd, MMMM dd, yyyy h:mm:ss tt"),sortableDateTime:r("yyyy-MM-ddTHH:mm:ss"),universalSortableDateTime:r("yyyy-MM-dd HH:mm:ssZ"),rfc1123:r("ddd, dd MMM yyyy HH:mm:ss"),monthDay:r("MMMM dd"),yearMonth:r("MMMM, yyyy")},regexPatterns:{inTheMorning:r("/( in the )(morn(ing)?)\\b/"),thisMorning:r("/(this )(morn(ing)?)\\b/"),amThisMorning:r("/(\b\\d(am)? )(this )(morn(ing)?)/"),inTheEvening:r("/( in the )(even(ing)?)\\b/"),thisEvening:r("/(this )(even(ing)?)\\b/"),pmThisEvening:r("/(\b\\d(pm)? )(this )(even(ing)?)/"),jan:r("/jan(uary)?/"),feb:r("/feb(ruary)?/"),mar:r("/mar(ch)?/"),apr:r("/apr(il)?/"),may:r("/may/"),jun:r("/jun(e)?/"),jul:r("/jul(y)?/"),aug:r("/aug(ust)?/"),sep:r("/sep(t(ember)?)?/"),oct:r("/oct(ober)?/"),nov:r("/nov(ember)?/"),dec:r("/dec(ember)?/"),sun:r("/^su(n(day)?)?/"),mon:r("/^mo(n(day)?)?/"),tue:r("/^tu(e(s(day)?)?)?/"),wed:r("/^we(d(nesday)?)?/"),thu:r("/^th(u(r(s(day)?)?)?)?/"),fri:r("/fr(i(day)?)?/"),sat:r("/^sa(t(urday)?)?/"),future:r("/^next/"),past:r("/last|past|prev(ious)?/"),add:r("/^(\\+|aft(er)?|from|hence)/"),subtract:r("/^(\\-|bef(ore)?|ago)/"),yesterday:r("/^yes(terday)?/"),today:r("/^t(od(ay)?)?/"),tomorrow:r("/^tom(orrow)?/"),now:r("/^n(ow)?/"),millisecond:r("/^ms|milli(second)?s?/"),second:r("/^sec(ond)?s?/"),minute:r("/^mn|min(ute)?s?/"),hour:r("/^h(our)?s?/"),week:r("/^w(eek)?s?/"),month:r("/^m(onth)?s?/"),day:r("/^d(ay)?s?/"),year:r("/^y(ear)?s?/"),shortMeridian:r("/^(a|p)/"),longMeridian:r("/^(a\\.?m?\\.?|p\\.?m?\\.?)/"),timezone:r("/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/"),ordinalSuffix:r("/^\\s*(st|nd|rd|th)/"),timeContext:r("/^\\s*(\\:|a(?!u|p)|p)/")},timezones:[],abbreviatedTimeZoneDST:{},abbreviatedTimeZoneStandard:{}};return t.abbreviatedTimeZoneDST[r("CHADT")]="+1345",t.abbreviatedTimeZoneDST[r("NZDT")]="+1300",t.abbreviatedTimeZoneDST[r("AEDT")]="+1100",t.abbreviatedTimeZoneDST[r("ACDT")]="+1030",t.abbreviatedTimeZoneDST[r("AZST")]="+0500",t.abbreviatedTimeZoneDST[r("IRDT")]="+0430",t.abbreviatedTimeZoneDST[r("EEST")]="+0300",t.abbreviatedTimeZoneDST[r("CEST")]="+0200",t.abbreviatedTimeZoneDST[r("BST")]="+0100",t.abbreviatedTimeZoneDST[r("PMDT")]="-0200",t.abbreviatedTimeZoneDST[r("ADT")]="-0300",t.abbreviatedTimeZoneDST[r("NDT")]="-0230",t.abbreviatedTimeZoneDST[r("EDT")]="-0400",t.abbreviatedTimeZoneDST[r("CDT")]="-0500",t.abbreviatedTimeZoneDST[r("MDT")]="-0600",t.abbreviatedTimeZoneDST[r("PDT")]="-0700",t.abbreviatedTimeZoneDST[r("AKDT")]="-0800",t.abbreviatedTimeZoneDST[r("HADT")]="-0900",t.abbreviatedTimeZoneStandard[r("LINT")]="+1400",t.abbreviatedTimeZoneStandard[r("TOT")]="+1300",t.abbreviatedTimeZoneStandard[r("CHAST")]="+1245",t.abbreviatedTimeZoneStandard[r("NZST")]="+1200",t.abbreviatedTimeZoneStandard[r("NFT")]="+1130",t.abbreviatedTimeZoneStandard[r("SBT")]="+1100",t.abbreviatedTimeZoneStandard[r("AEST")]="+1000",t.abbreviatedTimeZoneStandard[r("ACST")]="+0930",t.abbreviatedTimeZoneStandard[r("JST")]="+0900",t.abbreviatedTimeZoneStandard[r("CWST")]="+0845",t.abbreviatedTimeZoneStandard[r("CT")]="+0800",t.abbreviatedTimeZoneStandard[r("ICT")]="+0700",t.abbreviatedTimeZoneStandard[r("MMT")]="+0630",t.abbreviatedTimeZoneStandard[r("BST")]="+0600",t.abbreviatedTimeZoneStandard[r("NPT")]="+0545",t.abbreviatedTimeZoneStandard[r("IST")]="+0530",t.abbreviatedTimeZoneStandard[r("PKT")]="+0500",t.abbreviatedTimeZoneStandard[r("AFT")]="+0430",t.abbreviatedTimeZoneStandard[r("MSK")]="+0400",t.abbreviatedTimeZoneStandard[r("IRST")]="+0330",t.abbreviatedTimeZoneStandard[r("FET")]="+0300",t.abbreviatedTimeZoneStandard[r("EET")]="+0200",t.abbreviatedTimeZoneStandard[r("CET")]="+0100",t.abbreviatedTimeZoneStandard[r("GMT")]="+0000",t.abbreviatedTimeZoneStandard[r("UTC")]="+0000",t.abbreviatedTimeZoneStandard[r("CVT")]="-0100",t.abbreviatedTimeZoneStandard[r("GST")]="-0200",t.abbreviatedTimeZoneStandard[r("BRT")]="-0300",t.abbreviatedTimeZoneStandard[r("NST")]="-0330",t.abbreviatedTimeZoneStandard[r("AST")]="-0400",t.abbreviatedTimeZoneStandard[r("EST")]="-0500",t.abbreviatedTimeZoneStandard[r("CST")]="-0600",t.abbreviatedTimeZoneStandard[r("MST")]="-0700",t.abbreviatedTimeZoneStandard[r("PST")]="-0800",t.abbreviatedTimeZoneStandard[r("AKST")]="-0900",t.abbreviatedTimeZoneStandard[r("MIT")]="-0930",t.abbreviatedTimeZoneStandard[r("HST")]="-1000",t.abbreviatedTimeZoneStandard[r("SST")]="-1100",t.abbreviatedTimeZoneStandard[r("BIT")]="-1200",e(t),t};e.i18n={__:function(e,t){return r(e,t)},currentLanguage:function(){return t||"en-US"},setLanguage:function(e,n){if(n||"en-US"===e||Date.CultureStrings&&Date.CultureStrings[e])t=e,Date.CultureStrings.lang=e,Date.CultureInfo=s();else if(!Date.CultureStrings||!Date.CultureStrings[e])if("undefined"!=typeof exports&&this.exports!==exports)try{require("../i18n/"+e+".js"),t=e,Date.CultureStrings.lang=e,Date.CultureInfo=s()}catch(t){throw new Error("The DateJS IETF language tag '"+e+"' could not be loaded by Node. It likely does not exist.")}else Date.Config&&Date.Config.i18n?a(e).done(function(){t=e,Date.CultureStrings.lang=e,Date.CultureInfo=s()}):Date.console.error("The DateJS IETF language tag '"+e+"' is not available and has not been loaded.")},getLoggedKeys:function(){return n},updateCultureInfo:function(){Date.CultureInfo=s()}},e.i18n.updateCultureInfo()}(),function(){var e=Date,t=e.prototype,n=function(e,t){return t||(t=2),("000"+e).slice(-1*t)};"undefined"!=typeof window&&"undefined"!=typeof window.console&&"undefined"!=typeof window.console.log?e.console=console:e.console={log:function(){},error:function(){}},e.Config={},e.initOverloads=function(){e.now?e._now||(e._now=e.now):e._now=function(){return(new Date).getTime()},e.now=function(t){return t?e.present():e._now()},t.toISOString||(t.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}),t._toString===undefined&&(t._toString=t.toString)},e.initOverloads(),t.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},t.setTimeToNow=function(){var e=new Date;return this.setHours(e.getHours()),this.setMinutes(e.getMinutes()),this.setSeconds(e.getSeconds()),this.setMilliseconds(e.getMilliseconds()),this},e.today=function(){return(new Date).clearTime()},e.present=function(){return new Date},e.compare=function(e,t){if(isNaN(e)||isNaN(t))throw new Error(e+" - "+t);if(e instanceof Date&&t instanceof Date)return e<t?-1:e>t?1:0;throw new TypeError(e+" - "+t)},e.equals=function(e,t){return 0===e.compareTo(t)},e.getDayName=function(e){return Date.CultureInfo.dayNames[e]},e.getDayNumberFromName=function(e){for(var t=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,r=Date.CultureInfo.shortestDayNames,a=e.toLowerCase(),s=0;s<t.length;s++)if(t[s].toLowerCase()===a||n[s].toLowerCase()===a||r[s].toLowerCase()===a)return s;return-1},e.getMonthNumberFromName=function(e){for(var t=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,r=e.toLowerCase(),a=0;a<t.length;a++)if(t[a].toLowerCase()===r||n[a].toLowerCase()===r)return a;return-1},e.getMonthName=function(e){return Date.CultureInfo.monthNames[e]},e.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},e.getDaysInMonth=function(t,n){return!n&&e.validateMonth(t)&&(n=t,t=Date.today().getFullYear()),[31,e.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][n]},e.getTimezoneAbbreviation=function(e,t){var n,r=t?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in r)if(r.hasOwnProperty(n)&&r[n]===e)return n;return null},e.getTimezoneOffset=function(e,t){var n,r=[],a=Date.CultureInfo.timezones;for(e||(e=(new Date).getTimezone()),n=0;n<a.length;n++)a[n].name===e.toUpperCase()&&r.push(n);if(!a[r[0]])return null;if(1===r.length||!t)return a[r[0]].offset;for(n=0;n<r.length;n++)if(a[r[n]].dst)return a[r[n]].offset},e.getQuarter=function(e){return e=e||new Date,[1,2,3,4][Math.floor(e.getMonth()/3)]},e.getDaysLeftInQuarter=function(e){e=e||new Date;var t=new Date(e);return t.setMonth(t.getMonth()+3-t.getMonth()%3,0),Math.floor((t-e)/864e5)},t.clone=function(){return new Date(this.getTime())},t.compareTo=function(e){return Date.compare(this,e)},t.equals=function(e){return Date.equals(this,e!==undefined?e:new Date)},t.between=function(e,t){return this.getTime()>=e.getTime()&&this.getTime()<=t.getTime()},t.isAfter=function(e){return 1===this.compareTo(e||new Date)},t.isBefore=function(e){return-1===this.compareTo(e||new Date)},t.isToday=t.isSameDay=function(e){return this.clone().clearTime().equals((e||new Date).clone().clearTime())},t.addMilliseconds=function(e){return e?(this.setTime(this.getTime()+1*e),this):this},t.addSeconds=function(e){return e?this.addMilliseconds(1e3*e):this},t.addMinutes=function(e){return e?this.addMilliseconds(6e4*e):this},t.addHours=function(e){return e?this.addMilliseconds(36e5*e):this},t.addDays=function(e){return e?(this.setDate(this.getDate()+1*e),this):this},t.addWeekdays=function(e){if(!e)return this;var t=this.getDay(),n=Math.ceil(Math.abs(e)/7);if(0!==t&&6!==t||e>0&&(this.next().monday(),this.addDays(-1)),e<0){for(;e<0;)this.addDays(-1),0!==(t=this.getDay())&&6!==t&&e++;return this}return(e>5||6-t<=e)&&(e+=2*n),this.addDays(e)},t.addWeeks=function(e){return e?this.addDays(7*e):this},t.addMonths=function(t){if(!t)return this;var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+1*t),this.setDate(Math.min(n,e.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},t.addQuarters=function(e){return e?this.addMonths(3*e):this},t.addYears=function(e){return e?this.addMonths(12*e):this},t.add=function(e){if("number"==typeof e)return this._orient=e,this;var t=e;return t.day&&t.day-this.getDate()!=0&&this.setDate(t.day),t.milliseconds&&this.addMilliseconds(t.milliseconds),t.seconds&&this.addSeconds(t.seconds),t.minutes&&this.addMinutes(t.minutes),t.hours&&this.addHours(t.hours),t.weeks&&this.addWeeks(t.weeks),t.months&&this.addMonths(t.months),t.years&&this.addYears(t.years),t.days&&this.addDays(t.days),this},t.getWeek=function(e){var t,n=new Date(this.valueOf());e?(n.addMinutes(n.getTimezoneOffset()),t=n.clone()):t=this;var r=(t.getDay()+6)%7;n.setDate(n.getDate()-r+3);var a=n.valueOf();return n.setMonth(0,1),4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),1+Math.ceil((a-n)/6048e5)},t.getISOWeek=function(){return n(this.getWeek(!0))},t.setWeek=function(e){return e-this.getWeek()==0?1!==this.getDay()?this.moveToDayOfWeek(1,this.getDay()>1?-1:1):this:this.moveToDayOfWeek(1,this.getDay()>1?-1:1).addWeeks(e-this.getWeek())},t.setQuarter=function(e){var t=Math.abs(3*(e-1)+1);return this.setMonth(t,1)},t.getQuarter=function(){return Date.getQuarter(this)},t.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};var r=function(e,t,n,r){if(r=r||"Object",void 0===e)return!1;if("number"!=typeof e)throw new TypeError(e+" is not a Number.");return!(e<t||e>n)};e.validateMillisecond=function(e){return r(e,0,999,"millisecond")},e.validateSecond=function(e){return r(e,0,59,"second")},e.validateMinute=function(e){return r(e,0,59,"minute")},e.validateHour=function(e){return r(e,0,23,"hour")},e.validateDay=function(t,n,a){return r(t,1,e.getDaysInMonth(n,a),"day")},e.validateWeek=function(e){return r(e,0,53,"week")},e.validateMonth=function(e){return r(e,0,11,"month")},e.validateYear=function(e){return r(e,-271822,275760,"year")},t.set=function(t){return e.validateMillisecond(t.millisecond)&&this.addMilliseconds(t.millisecond-this.getMilliseconds()),e.validateSecond(t.second)&&this.addSeconds(t.second-this.getSeconds()),e.validateMinute(t.minute)&&this.addMinutes(t.minute-this.getMinutes()),e.validateHour(t.hour)&&this.addHours(t.hour-this.getHours()),e.validateMonth(t.month)&&this.addMonths(t.month-this.getMonth()),e.validateYear(t.year)&&this.addYears(t.year-this.getFullYear()),e.validateDay(t.day,this.getFullYear(),this.getMonth())&&this.addDays(t.day-this.getDate()),t.timezone&&this.setTimezone(t.timezone),t.timezoneOffset&&this.setTimezoneOffset(t.timezoneOffset),t.week&&e.validateWeek(t.week)&&this.setWeek(t.week),this},t.moveToFirstDayOfMonth=function(){return this.set({day:1})},t.moveToLastDayOfMonth=function(){return this.set({day:e.getDaysInMonth(this.getFullYear(),this.getMonth())})},t.moveToNthOccurrence=function(e,t){if("Weekday"===e){if(t>0)this.moveToFirstDayOfMonth(),this.is().weekday()&&(t-=1);else{if(!(t<0))return this;this.moveToLastDayOfMonth(),this.is().weekday()&&(t+=1)}return this.addWeekdays(t)}var n=0;if(t>0)n=t-1;else if(-1===t)return this.moveToLastDayOfMonth(),this.getDay()!==e&&this.moveToDayOfWeek(e,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(e,1).addWeeks(n)},t.moveToDayOfWeek=function(e,t){var n=(e-this.getDay()+7*(t||1))%7;return this.addDays(0===n?n+=7*(t||1):n)},t.moveToMonth=function(e,t){var n=(e-this.getMonth()+12*(t||1))%12;return this.addMonths(0===n?n+=12*(t||1):n)},t.getOrdinate=function(){var e=this.getDate();return a(e)},t.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},t.getTimezone=function(){return e.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())},t.setTimezoneOffset=function(e){var t=this.getTimezoneOffset(),n=-6*Number(e)/10;return n||0===n?this.addMinutes(n-t):this},t.setTimezone=function(t){return this.setTimezoneOffset(e.getTimezoneOffset(t))},t.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},t.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()},t.getUTCOffset=function(e){var t,n=-10*(e||this.getTimezoneOffset())/6;return n<0?(t=(n-1e4).toString(),t.charAt(0)+t.substr(2)):(t=(n+1e4).toString(),"+"+t.substr(1))},t.getElapsed=function(e){return(e||new Date)-this};var a=function(e){switch(1*e){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};t.toString=function(e,t){var r=this;if(!t&&e&&1===e.length){var s,i=Date.CultureInfo.formatPatterns;switch(r.t=r.toString,e){case"d":return r.t(i.shortDate);case"D":return r.t(i.longDate);case"F":return r.t(i.fullDateTime);case"m":return r.t(i.monthDay);case"r":case"R":return s=r.clone().addMinutes(r.getTimezoneOffset()),s.toString(i.rfc1123)+" GMT";case"s":return r.t(i.sortableDateTime);case"t":return r.t(i.shortTime);case"T":return r.t(i.longTime);case"u":return s=r.clone().addMinutes(r.getTimezoneOffset()),s.toString(i.universalSortableDateTime);case"y":return r.t(i.yearMonth)}}return e?e.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,function(e){if("\\"===e.charAt(0))return e.replace("\\","");switch(r.h=r.getHours,e){case"hh":return n(r.h()<13?0===r.h()?12:r.h():r.h()-12);case"h":return r.h()<13?0===r.h()?12:r.h():r.h()-12;case"HH":return n(r.h());case"H":return r.h();case"mm":return n(r.getMinutes());case"m":return r.getMinutes();case"ss":return n(r.getSeconds());case"s":return r.getSeconds();case"yyyy":return n(r.getFullYear(),4);case"yy":return n(r.getFullYear());case"dddd":return Date.CultureInfo.dayNames[r.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[r.getDay()];case"dd":return n(r.getDate());case"d":return r.getDate();case"MMMM":return Date.CultureInfo.monthNames[r.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[r.getMonth()];case"MM":return n(r.getMonth()+1);case"M":return r.getMonth()+1;case"t":return r.h()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return r.h()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return a(r.getDate());case"W":return r.getWeek();case"WW":return r.getISOWeek();case"Q":return"Q"+r.getQuarter();case"q":return String(r.getQuarter());default:return e}}).replace(/\[|\]/g,""):this._toString()}}(),function(){"use strict";Date.Parsing={Exception:function(e){this.message="Parse error at '"+e.substring(0,10)+" ...'"}};var e=Date.Parsing,t={standard:[0,31,59,90,120,151,181,212,243,273,304,334],leap:[0,31,60,91,121,152,182,213,244,274,305,335]};e.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},e.processTimeObject=function(n){var r,a,s,i,o;if(r=new Date,o=e.isLeapYear(n.year)?t.leap:t.standard,n.hours=n.hours?n.hours:0,n.minutes=n.minutes?n.minutes:0,n.seconds=n.seconds?n.seconds:0,n.milliseconds=n.milliseconds?n.milliseconds:0,n.year||(n.year=r.getFullYear()),n.month||!n.week&&!n.dayOfYear)n.month=n.month?n.month:0,n.day=n.day?n.day:1,n.dayOfYear=o[n.month]+n.day;else{n.dayOfYear||(n.weekDay=n.weekDay||0===n.weekDay?n.weekDay:1,r=new Date(n.year,0,4),a=0===r.getDay()?7:r.getDay(),i=a+3,n.dayOfYear=7*n.week+(0===n.weekDay?7:n.weekDay)-i);for(var u=0;u<=o.length;u++){if(n.dayOfYear<o[u]||u===o.length){n.day=n.day?n.day:n.dayOfYear-o[u-1];break}n.month=u}}return s=new Date(n.year,n.month,n.day,n.hours,n.minutes,n.seconds,n.milliseconds),n.zone&&("Z"===n.zone.toUpperCase()||0===n.zone_hours&&0===n.zone_minutes?i=-s.getTimezoneOffset():(i=60*n.zone_hours+(n.zone_minutes?n.zone_minutes:0),"+"===n.zone_sign&&(i*=-1),i-=s.getTimezoneOffset()),s.setMinutes(s.getMinutes()+i)),s},e.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(t){var n=t.match(this.regex);if(!n||!n.length)return null;var r={year:n[1]?Number(n[1]):n[1],month:n[5]?Number(n[5])-1:n[5],day:n[7]?Number(n[7]):n[7],week:n[8]?Number(n[8]):n[8],weekDay:n[9]?7===Math.abs(Number(n[9]))?0:Math.abs(Number(n[9])):n[9],dayOfYear:n[10]?Number(n[10]):n[10],hours:n[15]?Number(n[15]):n[15],minutes:n[16]?Number(n[16].replace(":","")):n[16],seconds:n[19]?Math.floor(Number(n[19].replace(":","").replace(",","."))):n[19],milliseconds:n[20]?1e3*Number(n[20].replace(",",".")):n[20],zone:n[21],zone_sign:n[22],zone_hours:n[23]&&"undefined"!=typeof n[23]?Number(n[23]):n[23],zone_minutes:n[24]&&"undefined"!=typeof n[23]?Number(n[24]):n[24]};return n[18]&&(n[18]=60*Number(n[18].replace(",",".")),r.minutes?r.seconds||(r.seconds=n[18]):r.minutes=n[18]),r.year&&(r.year||r.month||r.day||r.week||r.dayOfYear)?e.processTimeObject(r):null}},e.Numeric={isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(t){var n,r,a={},s=Date.CultureInfo.dateElementOrder.split("");if(!this.isNumeric(t)||"+"===t[0]&&"-"===t[0])return null;if(t.length<5)return a.year=t,e.processTimeObject(a);if(!(n=t.match(this.regex))||!n.length)return null;for(r=0;r<s.length;r++)switch(s[r]){case"d":a.day=n[r+1];break;case"m":a.month=n[r+1]-1;break;case"y":a.year=n[r+1]}return e.processTimeObject(a)}},e.Normalizer={parse:function(t){var n=(Date.CultureInfo,Date.CultureInfo.regexPatterns),r=Date.i18n.__;t=t.replace(n.jan.source,"January"),t=t.replace(n.feb,"February"),t=t.replace(n.mar,"March"),t=t.replace(n.apr,"April"),t=t.replace(n.may,"May"),t=t.replace(n.jun,"June"),t=t.replace(n.jul,"July"),t=t.replace(n.aug,"August"),t=t.replace(n.sep,"September"),t=t.replace(n.oct,"October"),t=t.replace(n.nov,"November"),t=t.replace(n.dec,"December"),t=t.replace(n.tomorrow,Date.today().addDays(1).toString("d")),t=t.replace(n.yesterday,Date.today().addDays(-1).toString("d")),t=t.replace(/\bat\b/gi,""),t=t.replace(/\s{2,}/," "),t=t.replace(new RegExp("(\\b\\d\\d?("+r("AM")+"|"+r("PM")+")? )("+n.tomorrow.source.slice(1)+")","i"),function(e,t){return Date.today().addDays(1).toString("d")+" "+t}),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.mon.source+"))"),Date.today().last().monday().toString("d")),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.tue.source+"))"),Date.today().last().tuesday().toString("d")),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.wed.source+"))"),Date.today().last().wednesday().toString("d")),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.thu.source+"))"),Date.today().last().thursday().toString("d")),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.fri.source+"))"),Date.today().last().friday().toString("d")),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.sat.source+"))"),Date.today().last().saturday().toString("d")),t=t.replace(new RegExp("(("+n.past.source+")\\s("+n.sun.source+"))"),Date.today().last().sunday().toString("d")),t=t.replace(n.amThisMorning,function(e,t){return t}),t=t.replace(n.inTheMorning,"am"),t=t.replace(n.thisMorning,"9am"),t=t.replace(n.amThisEvening,function(e,t){return t}),t=t.replace(n.inTheEvening,"pm"),t=t.replace(n.thisEvening,"7pm");try{var a=t.split(/([\s\-\.\,\/\x27]+)/);3===a.length&&e.Numeric.isNumeric(a[0])&&e.Numeric.isNumeric(a[2])&&a[2].length>=4&&"d"===Date.CultureInfo.dateElementOrder[0]&&(t="1/"+a[0]+"/"+a[2])}catch(e){}return t}}}(),function(){for(var e=Date.Parsing,t=e.Operators={rtoken:function(t){return function(n){var r=n.match(t);if(r)return[r[0],n.substring(r[0].length)];throw new e.Exception(n)}},token:function(){return function(e){return t.rtoken(new RegExp("^s*"+e+"s*"))(e)}},stoken:function(e){return t.rtoken(new RegExp("^"+e))},until:function(e){return function(t){for(var n=[],r=null;t.length;){try{r=e.call(this,t)}catch(e){n.push(r[0]),t=r[1];continue}break}return[n,t]}},many:function(e){return function(t){for(var n=[],r=null;t.length;){try{r=e.call(this,t)}catch(e){return[n,t]}n.push(r[0]),t=r[1]}return[n,t]}},optional:function(e){return function(t){var n=null;try{n=e.call(this,t)}catch(e){return[null,t]}return[n[0],n[1]]}},not:function(t){return function(n){try{t.call(this,n)}catch(e){return[null,n]}throw new e.Exception(n)}},ignore:function(e){return e?function(t){var n=null;return n=e.call(this,t),[null,n[1]]}:null},product:function(){for(var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=[],a=0;a<e.length;a++)r.push(t.each(e[a],n));return r},cache:function(t){var n={},r=null;return function(a){try{r=n[a]=n[a]||t.call(this,a)}catch(e){r=n[a]=e}if(r instanceof e.Exception)throw r;return r}},any:function(){var t=arguments;return function(n){for(var r=null,a=0;a<t.length;a++)if(null!=t[a]){try{r=t[a].call(this,n)}catch(e){r=null}if(r)return r}throw new e.Exception(n)}},each:function(){var t=arguments;return function(n){for(var r=[],a=null,s=0;s<t.length;s++)if(null!=t[s]){try{a=t[s].call(this,n)}catch(t){throw new e.Exception(n)}r.push(a[0]),n=a[1]}return[r,n]}},all:function(){var e=arguments,t=t;return t.each(t.optional(e))},sequence:function(n,r,a){return r=r||t.rtoken(/^\s*/),a=a||null,1==n.length?n[0]:function(t){for(var s=null,i=null,o=[],u=0;u<n.length;u++){try{s=n[u].call(this,t)}catch(e){break}o.push(s[0]);try{i=r.call(this,s[1])}catch(e){i=null;break}t=i[1]}if(!s)throw new e.Exception(t);if(i)throw new e.Exception(i[1]);if(a)try{s=a.call(this,s[1])}catch(t){throw new e.Exception(s[1])}return[o,s?s[1]:t]}},between:function(e,n,a){a=a||e;var s=t.each(t.ignore(e),n,t.ignore(a));return function(e){var t=s.call(this,e);return[[t[0][0],r[0][2]],t[1]]}},list:function(e,n,r){return n=n||t.rtoken(/^\s*/),r=r||null,e instanceof Array?t.each(t.product(e.slice(0,-1),t.ignore(n)),e.slice(-1),t.ignore(r)):t.each(t.many(t.each(e,t.ignore(n))),px,t.ignore(r))},set:function(n,r,a){return r=r||t.rtoken(/^\s*/),a=a||null,function(s){for(var i=null,o=null,u=null,h=null,d=[[],s],c=!1,l=0;l<n.length;l++){u=null,o=null,i=null,c=1==n.length;try{i=n[l].call(this,s)}catch(e){continue}if(h=[[i[0]],i[1]],i[1].length>0&&!c)try{u=r.call(this,i[1])}catch(e){c=!0}else c=!0;if(c||0!==u[1].length||(c=!0),!c){for(var m=[],y=0;y<n.length;y++)l!=y&&m.push(n[y]);o=t.set(m,r).call(this,u[1]),o[0].length>0&&(h[0]=h[0].concat(o[0]),h[1]=o[1])}if(h[1].length<d[1].length&&(d=h),0===d[1].length)break}if(0===d[0].length)return d;if(a){try{u=a.call(this,d[1])}catch(t){throw new e.Exception(d[1])}d[1]=u[1]}return d}},forward:function(e,t){return function(n){return e[t].call(this,n)}},replace:function(e,t){return function(n){var r=e.call(this,n);return[t,r[1]]}},process:function(e,t){return function(n){var r=e.call(this,n);return[t.call(this,r[0]),r[1]]}},min:function(t,n){return function(r){var a=n.call(this,r);if(a[0].length<t)throw new e.Exception(r);return a}}},n=function(e){function t(){var t,n,r=null,a=[];return arguments.length>1?r=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(r=arguments[0]),r?(t=r.shift(),t.length>0?(r.unshift(t[n]),a.push(e.apply(null,r)),r.shift(),a):void 0):e.apply(null,arguments)}return t},a="optional not ignore cache".split(/\s/),s=0;s<a.length;s++)t[a[s]]=n(t[a[s]]);for(var i=function(e){return function(){return arguments[0]instanceof Array?e.apply(null,arguments[0]):e.apply(null,arguments)}},o="each any all".split(/\s/),u=0;u<o.length;u++)t[o[u]]=i(t[o[u]])}(),function(){function e(e){var n,r,a,s=null;if(!e)return null;if(e instanceof Date)return e.clone();if(e.length>=4&&"0"!==e.charAt(0)&&"+"!==e.charAt(0)&&"-"!==e.charAt(0)&&(r=t.Parsing.ISO.parse(e)||t.Parsing.Numeric.parse(e)),r instanceof Date&&!isNaN(r.getTime()))return r;n=e.match(/\b(\d+)(?:st|nd|rd|th)\b/),e=n&&2===n.length?e.replace(n[0],n[1]):e,e=t.Parsing.Normalizer.parse(e);try{s=t.Grammar.start.call({},e.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}if(null!==(r=0===s[1].length?s[0]:null))return r;try{return a=Date._parse(e),a||0===a?new Date(a):null}catch(e){return null}}var t=Date,n=function(e){for(var t=[],r=0;r<e.length;r++)e[r]instanceof Array?t=t.concat(n(e[r])):e[r]&&t.push(e[r]);return t};t.Grammar={},t.Translator={hour:function(e){return function(){this.hour=Number(e)}},minute:function(e){return function(){this.minute=Number(e)}},second:function(e){return function(){this.second=Number(e)}},secondAndMillisecond:function(e){return function(){var t=e.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(t[1]),this.millisecond=Number(t[2])}},meridian:function(e){return function(){this.meridian=e.slice(0,1).toLowerCase()}},timezone:function(e){return function(){var t=e.replace(/[^\d\+\-]/g,"");t.length?this.timezoneOffset=Number(t):this.timezone=e.toLowerCase()}},day:function(e){var t=e[0];return function(){if(this.day=Number(t.match(/\d+/)[0]),this.day<1)throw"invalid day"}},month:function(e){return function(){
if(this.month=3===e.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(e)/4:Number(e)-1,this.month<0)throw"invalid month"}},year:function(e){return function(){var t=Number(e);this.year=e.length>2?t:t+(t+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(e){return function(){switch(e){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){e=e instanceof Array?e:[e];for(var n=0;n<e.length;n++)e[n]&&e[n].call(this);var r=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=r.getDate()),this.year||(this.year=r.getFullYear()),this.month||0===this.month||(this.month=r.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.millisecond||(this.millisecond=0),this.meridian&&(this.hour||0===this.hour)){if("a"==this.meridian&&this.hour>11&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";if("p"==this.meridian&&this.hour<12&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";"p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)}if(this.day>t.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var a=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);return this.year<100&&a.setFullYear(this.year),this.timezone?a.set({timezone:this.timezone}):this.timezoneOffset&&a.set({timezoneOffset:this.timezoneOffset}),a},finish:function(e){if(e=e instanceof Array?n(e):[e],0===e.length)return null;for(var r=0;r<e.length;r++)"function"==typeof e[r]&&e[r].call(this);var a=t.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(a=new Date);var s,i,o,u=!!(this.days&&null!==this.days||this.orient||this.operator);if(o="past"==this.orient||"subtract"==this.operator?-1:1,this.now||-1=="hour minute second".indexOf(this.unit)||a.setTimeToNow(),this.month&&"week"==this.unit&&(this.value=this.month+1,delete this.month,delete this.day),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value||(this.value=this.month+1),this.month=null,u=!0),!u&&this.weekday&&!this.day&&!this.days){var h=Date[this.weekday]();this.day=h.getDate(),this.month||(this.month=h.getMonth()),this.year=h.getFullYear()}if(u&&this.weekday&&"month"!=this.unit&&"week"!=this.unit&&(this.unit="day",s=t.getDayNumberFromName(this.weekday)-a.getDay(),i=7,this.days=s?(s+o*i)%i:o*i),this.month&&"day"==this.unit&&this.operator&&(this.value||(this.value=this.month+1),this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(a.set({day:1*this.value}),u||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,u=!0),u&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",s=this.month-a.getMonth(),i=12,this.months=s?(s+o*i)%i:o*i,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*o:null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),this[this.unit+"s"]=this.value*o),this.meridian&&(this.hour||0===this.hour)){if("a"==this.meridian&&this.hour>11&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";if("p"==this.meridian&&this.hour<12&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";"p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)}if(this.weekday&&"week"!==this.unit&&!this.day&&!this.days){var h=Date[this.weekday]();this.day=h.getDate(),h.getMonth()!==a.getMonth()&&(this.month=h.getMonth())}if(!this.month&&0!==this.month||this.day||(this.day=1),!this.orient&&!this.operator&&"week"==this.unit&&this.value&&!this.day&&!this.month)return Date.today().setWeek(this.value);if("week"==this.unit&&this.weeks&&!this.day&&!this.month){var d=this.weekday?this.weekday:"today",c=Date[d]().addWeeks(this.weeks);return this.now&&c.setTimeToNow(),c}return u&&this.timezone&&this.day&&this.days&&(this.day=this.days),u?a.add(this):a.set(this)}};var r,a=t.Parsing.Operators,s=t.Grammar,i=t.Translator;s.datePartDelimiter=a.rtoken(/^([\s\-\.\,\/\x27]+)/),s.timePartDelimiter=a.stoken(":"),s.whiteSpace=a.rtoken(/^\s*/),s.generalDelimiter=a.rtoken(/^(([\s\,]|at|@|on)+)/);var o={};s.ctoken=function(e){var t=o[e];if(!t){for(var n=Date.CultureInfo.regexPatterns,r=e.split(/\s+/),s=[],i=0;i<r.length;i++)s.push(a.replace(a.rtoken(n[r[i]]),r[i]));t=o[e]=a.any.apply(null,s)}return t},s.ctoken2=function(e){return a.rtoken(Date.CultureInfo.regexPatterns[e])},s.h=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),i.hour)),s.hh=a.cache(a.process(a.rtoken(/^(0[0-9]|1[0-2])/),i.hour)),s.H=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),i.hour)),s.HH=a.cache(a.process(a.rtoken(/^([0-1][0-9]|2[0-3])/),i.hour)),s.m=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),i.minute)),s.mm=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),i.minute)),s.s=a.cache(a.process(a.rtoken(/^([0-5][0-9]|[0-9])/),i.second)),s.ss=a.cache(a.process(a.rtoken(/^[0-5][0-9]/),i.second)),s["ss.s"]=a.cache(a.process(a.rtoken(/^[0-5][0-9]\.[0-9]{1,3}/),i.secondAndMillisecond)),s.hms=a.cache(a.sequence([s.H,s.m,s.s],s.timePartDelimiter)),s.t=a.cache(a.process(s.ctoken2("shortMeridian"),i.meridian)),s.tt=a.cache(a.process(s.ctoken2("longMeridian"),i.meridian)),s.z=a.cache(a.process(a.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),i.timezone)),s.zz=a.cache(a.process(a.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),i.timezone)),s.zzz=a.cache(a.process(s.ctoken2("timezone"),i.timezone)),s.timeSuffix=a.each(a.ignore(s.whiteSpace),a.set([s.tt,s.zzz])),s.time=a.each(a.optional(a.ignore(a.stoken("T"))),s.hms,s.timeSuffix),s.d=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1]|\d)/),a.optional(s.ctoken2("ordinalSuffix"))),i.day)),s.dd=a.cache(a.process(a.each(a.rtoken(/^([0-2]\d|3[0-1])/),a.optional(s.ctoken2("ordinalSuffix"))),i.day)),s.ddd=s.dddd=a.cache(a.process(s.ctoken("sun mon tue wed thu fri sat"),function(e){return function(){this.weekday=e}})),s.M=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d|\d)/),i.month)),s.MM=a.cache(a.process(a.rtoken(/^(1[0-2]|0\d)/),i.month)),s.MMM=s.MMMM=a.cache(a.process(s.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),i.month)),s.y=a.cache(a.process(a.rtoken(/^(\d\d?)/),i.year)),s.yy=a.cache(a.process(a.rtoken(/^(\d\d)/),i.year)),s.yyy=a.cache(a.process(a.rtoken(/^(\d\d?\d?\d?)/),i.year)),s.yyyy=a.cache(a.process(a.rtoken(/^(\d\d\d\d)/),i.year)),r=function(){return a.each(a.any.apply(null,arguments),a.not(s.ctoken2("timeContext")))},s.day=r(s.d,s.dd),s.month=r(s.M,s.MMM),s.year=r(s.yyyy,s.yy),s.orientation=a.process(s.ctoken("past future"),function(e){return function(){this.orient=e}}),s.operator=a.process(s.ctoken("add subtract"),function(e){return function(){this.operator=e}}),s.rday=a.process(s.ctoken("yesterday tomorrow today now"),i.rday),s.unit=a.process(s.ctoken("second minute hour day week month year"),function(e){return function(){this.unit=e}}),s.value=a.process(a.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/),function(e){return function(){this.value=e.replace(/\D/g,"")}}),s.expression=a.set([s.rday,s.operator,s.value,s.unit,s.orientation,s.ddd,s.MMM]),r=function(){return a.set(arguments,s.datePartDelimiter)},s.mdy=r(s.ddd,s.month,s.day,s.year),s.ymd=r(s.ddd,s.year,s.month,s.day),s.dmy=r(s.ddd,s.day,s.month,s.year),s.date=function(e){return(s[Date.CultureInfo.dateElementOrder]||s.mdy).call(this,e)},s.format=a.process(a.many(a.any(a.process(a.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(s[e])return s[e];throw t.Parsing.Exception(e)}),a.process(a.rtoken(/^[^dMyhHmstz]+/),function(e){return a.ignore(a.stoken(e))}))),function(e){return a.process(a.each.apply(null,e),i.finishExact)});var u={},h=function(e){return u[e]=u[e]||s.format(e)[0],u[e]};s.allformats=function(e){var t=[];if(e instanceof Array)for(var n=0;n<e.length;n++)t.push(h(e[n]));else t.push(h(e));return t},s.formats=function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;n++)t.push(h(e[n]));return a.any.apply(null,t)}return h(e)},s._formats=s.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ss.sz","yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),s._start=a.process(a.set([s.date,s.time,s.expression],s.generalDelimiter,s.whiteSpace),i.finish),s.start=function(e){try{var t=s._formats.call({},e);if(0===t[1].length)return t}catch(e){}return s._start.call({},e)},t._parse||(t._parse=t.parse),t.parse=e,Date.getParseFunction=function(e){var t=Date.Grammar.allformats(e);return function(e){for(var n=null,r=0;r<t.length;r++){try{n=t[r].call({},e)}catch(e){continue}if(0===n[1].length)return n[0]}return null}},t.parseExact=function(e,n){return t.getParseFunction(n)(e)}}(),function(){var e=Date,t=e.prototype,n=Number.prototype;t._orient=1,t._nth=null,t._is=!1,t._same=!1,t._isSecond=!1,n._dateElement="days",t.next=function(){return this._move=!0,this._orient=1,this},e.next=function(){return e.today().next()},t.last=t.prev=t.previous=function(){return this._move=!0,this._orient=-1,this},e.last=e.prev=e.previous=function(){return e.today().last()},t.is=function(){return this._is=!0,this},t.same=function(){return this._same=!0,this._isSecond=!1,this},t.today=function(){return this.same().day()},t.weekday=function(){return this._nth?h("Weekday").call(this):this._move?this.addWeekdays(this._orient):!!this._is&&(this._is=!1,!this.is().sat()&&!this.is().sun())},t.weekend=function(){return!!this._is&&(this._is=!1,this.is().sat()||this.is().sun())},t.at=function(t){return"string"==typeof t?e.parse(this.toString("d")+" "+t):this.set(t)},n.fromNow=n.after=function(e){var t={};return t[this._dateElement]=this,(e?e.clone():new Date).add(t)},n.ago=n.before=function(e){var t={};return t["s"!==this._dateElement[this._dateElement.length-1]?this._dateElement+"s":this._dateElement]=-1*this,(e?e.clone():new Date).add(t)};var r,a="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),s="january february march april may june july august september october november december".split(/\s/),i="Millisecond Second Minute Hour Day Week Month Year Quarter Weekday".split(/\s/),o="Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter".split(/\s/),u="final first second third fourth fifth".split(/\s/);t.toObject=function(){for(var e={},t=0;t<i.length;t++)this["get"+o[t]]&&(e[i[t].toLowerCase()]=this["get"+o[t]]());return e},e.fromObject=function(e){return e.week=null,Date.today().set(e)};for(var h=function(t){return function(){if(this._is)return this._is=!1,this.getDay()===t;if(this._move&&(this._move=null),null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var n=this._nth;this._nth=null;var r=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(t,n),this>r)throw new RangeError(e.getDayName(t)+" does not occur "+n+" times in the month of "+e.getMonthName(r.getMonth())+" "+r.getFullYear()+".");return this}return this.moveToDayOfWeek(t,this._orient)}},d=function(t){return function(){var n=e.today(),r=t-n.getDay();return 0===t&&1===Date.CultureInfo.firstDayOfWeek&&0!==n.getDay()&&(r+=7),n.addDays(r)}},c=0;c<a.length;c++)e[a[c].toUpperCase()]=e[a[c].toUpperCase().substring(0,3)]=c,e[a[c]]=e[a[c].substring(0,3)]=d(c),t[a[c]]=t[a[c].substring(0,3)]=h(c);for(var l=function(e){return function(){return this._is?(this._is=!1,this.getMonth()===e):this.moveToMonth(e,this._orient)}},m=function(t){return function(){return e.today().set({month:t,day:1})}},y=0;y<s.length;y++)e[s[y].toUpperCase()]=e[s[y].toUpperCase().substring(0,3)]=y,e[s[y]]=e[s[y].substring(0,3)]=m(y),t[s[y]]=t[s[y].substring(0,3)]=l(y);for(var f=function(e){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var t=this.toObject(),n=(arguments[0]||new Date).toObject(),r="",a=e.toLowerCase();a="s"===a[a.length-1]?a.substring(0,a.length-1):a;for(var s=i.length-1;s>-1;s--){if(r=i[s].toLowerCase(),t[r]!==n[r])return!1;if(a===r)break}return!0}return"s"!==e.substring(e.length-1)&&(e+="s"),this._move&&(this._move=null),this["add"+e](this._orient)}},g=function(e){return function(){return this._dateElement=e,this}},T=0;T<i.length;T++)"weekday"!==(r=i[T].toLowerCase())&&(t[r]=t[r+"s"]=f(i[T]),n[r]=n[r+"s"]=g(r+"s"));t._ss=f("Second");for(var M=function(e){return function(t){return this._same?this._ss(arguments[0]):t||0===t?this.moveToNthOccurrence(t,e):(this._nth=e,2!==e||t!==undefined&&null!==t?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},p=0;p<u.length;p++)t[u[p]]=M(0===p?-1:p)}(),function(){var e=Date,t=e.prototype,n=[],r=function(e,t){return t||(t=2),("000"+e).slice(-1*t)};e.normalizeFormat=function(e){return e},e.strftime=function(e,t){return new Date(1e3*t).$format(e)},e.strtotime=function(t){var n=e.parse(t);return n.addMinutes(-1*n.getTimezoneOffset()),Math.round(e.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())/1e3)},t.$format=function(t){var a,s=this,i=function(e,t){return n.push(e),s.toString(e,t)};return t?t.replace(/(%|\\)?.|%%/g,function(t){if("\\"===t.charAt(0)||"%%"===t.substring(0,2))return t.replace("\\","").replace("%%","%");switch(t){case"d":case"%d":return i("dd");case"D":case"%a":return i("ddd");case"j":case"%e":return i("d",!0);case"l":case"%A":return i("dddd");case"N":case"%u":return s.getDay()+1;case"S":return i("S");case"w":case"%w":return s.getDay();case"z":return s.getOrdinalNumber();case"%j":return r(s.getOrdinalNumber(),3);case"%U":var o=s.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),u=s.clone().addDays(1).moveToDayOfWeek(0,-1);return u<o?"00":r((u.getOrdinalNumber()-o.getOrdinalNumber())/7+1);case"W":case"%V":return s.getISOWeek();case"%W":return r(s.getWeek());case"F":case"%B":return i("MMMM");case"m":case"%m":return i("MM");case"M":case"%b":case"%h":return i("MMM");case"n":return i("M");case"t":return e.getDaysInMonth(s.getFullYear(),s.getMonth());case"L":return e.isLeapYear(s.getFullYear())?1:0;case"o":case"%G":return s.setWeek(s.getISOWeek()).toString("yyyy");case"%g":return s.$format("%G").slice(-2);case"Y":case"%Y":return i("yyyy");case"y":case"%y":return i("yy");case"a":case"%p":return i("tt").toLowerCase();case"A":return i("tt").toUpperCase();case"g":case"%I":return i("h");case"G":return i("H");case"h":return i("hh");case"H":case"%H":return i("HH");case"i":case"%M":return i("mm");case"s":case"%S":return i("ss");case"u":return r(s.getMilliseconds(),3);case"I":return s.isDaylightSavingTime()?1:0;case"O":return s.getUTCOffset();case"P":return a=s.getUTCOffset(),a.substring(0,a.length-2)+":"+a.substring(a.length-2);case"e":case"T":case"%z":case"%Z":return s.getTimezone();case"Z":return-60*s.getTimezoneOffset();case"B":var h=new Date;return Math.floor((3600*h.getHours()+60*h.getMinutes()+h.getSeconds()+60*(h.getTimezoneOffset()+60))/86.4);case"c":return s.toISOString().replace(/\"/g,"");case"U":return e.strtotime("now");case"%c":return i("d")+" "+i("t");case"%C":return Math.floor(s.getFullYear()/100+1);case"%D":return i("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return i("hh:mm tt");case"%R":return i("H:mm");case"%T":return i("H:mm:ss");case"%x":return i("d");case"%X":return i("t");default:return n.push(t),t}}):this._toString()},t.format||(t.format=t.$format)}();var TimeSpan=function(e,t,n,r,a){for(var s="days hours minutes seconds milliseconds".split(/\s+/),i=function(e){return function(){return this[e]}},o=function(e){return function(t){return this[e]=t,this}},u=0;u<s.length;u++){var h=s[u],d=h.slice(0,1).toUpperCase()+h.slice(1);TimeSpan.prototype[h]=0,TimeSpan.prototype["get"+d]=i(h),TimeSpan.prototype["set"+d]=o(h)}if(4===arguments.length)this.setDays(e),this.setHours(t),this.setMinutes(n),this.setSeconds(r);else if(5===arguments.length)this.setDays(e),this.setHours(t),this.setMinutes(n),this.setSeconds(r),this.setMilliseconds(a);else if(1===arguments.length&&"number"==typeof e){var c=e<0?-1:1;this.setMilliseconds(Math.abs(e)),this.setDays(Math.floor(this.getMilliseconds()/864e5)*c),this.setMilliseconds(this.getMilliseconds()%864e5),this.setHours(Math.floor(this.getMilliseconds()/36e5)*c),this.setMilliseconds(this.getMilliseconds()%36e5),this.setMinutes(Math.floor(this.getMilliseconds()/6e4)*c),this.setMilliseconds(this.getMilliseconds()%6e4),this.setSeconds(Math.floor(this.getMilliseconds()/1e3)*c),this.setMilliseconds(this.getMilliseconds()%1e3),this.setMilliseconds(this.getMilliseconds()*c)}return this.getTotalMilliseconds=function(){return 864e5*this.getDays()+36e5*this.getHours()+6e4*this.getMinutes()+1e3*this.getSeconds()},this.compareTo=function(e){var t,n=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds());return t=null===e?new Date(1970,1,1,0,0,0):new Date(1970,1,1,e.getHours(),e.getMinutes(),e.getSeconds()),n<t?-1:n>t?1:0},this.equals=function(e){return 0===this.compareTo(e)},this.add=function(e){return null===e?this:this.addSeconds(e.getTotalMilliseconds()/1e3)},this.subtract=function(e){return null===e?this:this.addSeconds(-e.getTotalMilliseconds()/1e3)},this.addDays=function(e){return new TimeSpan(this.getTotalMilliseconds()+864e5*e)},this.addHours=function(e){return new TimeSpan(this.getTotalMilliseconds()+36e5*e)},this.addMinutes=function(e){return new TimeSpan(this.getTotalMilliseconds()+6e4*e)},this.addSeconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+1e3*e)},this.addMilliseconds=function(e){return new TimeSpan(this.getTotalMilliseconds()+e)},this.get12HourHour=function(){return this.getHours()>12?this.getHours()-12:0===this.getHours()?12:this.getHours()},this.getDesignator=function(){return this.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator},this.toString=function(e){this._toString=function(){return null!==this.getDays()&&this.getDays()>0?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())},this.p=function(e){return e.toString().length<2?"0"+e:e};var t=this;return e?e.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(e){switch(e){case"d":return t.getDays();case"dd":return t.p(t.getDays());case"H":return t.getHours();case"HH":return t.p(t.getHours());case"h":return t.get12HourHour();case"hh":return t.p(t.get12HourHour());case"m":return t.getMinutes();case"mm":return t.p(t.getMinutes());case"s":return t.getSeconds();case"ss":return t.p(t.getSeconds());case"t":return(t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()},this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(e,t,n,r,a,s,i){for(var o="years months days hours minutes seconds milliseconds".split(/\s+/),u=function(e){return function(){return this[e]}},h=function(e){return function(t){return this[e]=t,this}},d=0;d<o.length;d++){var c=o[d],l=c.slice(0,1).toUpperCase()+c.slice(1);TimePeriod.prototype[c]=0,TimePeriod.prototype["get"+l]=u(c),TimePeriod.prototype["set"+l]=h(c)}if(7===arguments.length)this.years=e,this.months=t,this.setDays(n),this.setHours(r),this.setMinutes(a),this.setSeconds(s),this.setMilliseconds(i);else if(2===arguments.length&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var m=e.clone(),y=t.clone(),f=m.clone(),g=m>y?-1:1;if(this.years=y.getFullYear()-m.getFullYear(),f.addYears(this.years),1===g?f>y&&0!==this.years&&this.years--:f<y&&0!==this.years&&this.years++,m.addYears(this.years),1===g)for(;m<y&&m.clone().addMonths(1)<=y;)m.addMonths(1),this.months++;else for(;m>y&&m.clone().addDays(-m.getDaysInMonth())>y;)m.addMonths(-1),this.months--;var T=y-m;if(0!==T){var M=new TimeSpan(T);this.setDays(M.getDays()),this.setHours(M.getHours()),this.setMinutes(M.getMinutes()),this.setSeconds(M.getSeconds()),this.setMilliseconds(M.getMilliseconds())}}return this};